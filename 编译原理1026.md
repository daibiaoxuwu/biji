#### 编译原理1026

##### 自底向上的分析

短语:S => aAb

​		    | +

​		  aβb 则β是 aβb相对A的短语

​	也就是面对一个(归约了一半的)串, 看看哪几个字符连一起能比较正确地合并成一个字符

注 考虑文法的二义性

​	一个句子的语法树一共有n个内部节点 那么每一个节点对应一个短语

​	(短语是随着语法树自顶向下扩展而变化的, 每一步都对应一组不同的短语)

直接短语: 内部节点中的"叶子节点" 最外层的内部节点 这个范围更小 只有产生式右端的串匹配才可能是直接短语

直接短语:S => aAb

​			    | 

​			  aβb

最右规约 b全是终结符 因为最右推导S > AB > Ab > ab 总是改最右边的非终结符

找 最右短语即可 这个"最右直接短语"叫句柄 

如果文法没有二义性, 句柄是唯一的

但是实战中 S > AB > Ab > aAb > aaAb > aaaAb > aaab 唯一最右终结符

B是最右但是先被规约 是逆序的 于是真正的(逆序)分析要找最左边的(正确的)串. aaab的句柄是aaaeb的e,

aaAb的句柄是aA.

短语的求法: 做出语法树, 每个"非叶子节点"的推理果实都是短语.

直接短语则要找那些"儿子全是叶子"的"非叶子节点"的推理果实.

句柄是最左边的直接短语.

如果有二义性, 有两个语法树, 那么句柄就不唯一了.

